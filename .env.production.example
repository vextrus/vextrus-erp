# ================================================
# Vextrus ERP - Production Environment Variables
# ================================================
# This is an EXAMPLE file - copy to .env.production and fill with real values
# ================================================

# ================================================
# CRITICAL SECURITY NOTICE
# ================================================
# NEVER use these example values in production!
# Generate strong, unique secrets for each environment
# Minimum requirements:
#   - Passwords: 32+ characters, alphanumeric + symbols
#   - JWT Secrets: 64+ characters, cryptographically random
# ================================================

# ================================================
# INFRASTRUCTURE SERVICES
# ================================================

# PostgreSQL Database
POSTGRES_USER=your_postgres_user
POSTGRES_PASSWORD=your_secure_postgres_password_min_32_chars
POSTGRES_DB=vextrus_erp
POSTGRES_INITDB_ARGS=--encoding=UTF8 --locale=en_US.utf8

# Database connection (used by all services)
DATABASE_HOST=postgres
DATABASE_PORT=5432
DATABASE_USERNAME=your_db_username
DATABASE_PASSWORD=your_secure_db_password_min_32_chars

# Redis Cache
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=your_secure_redis_password_min_32_chars

# Kafka
KAFKA_BROKERS=kafka:9093

# EventStore
EVENTSTORE_CONNECTION_STRING=esdb://eventstore:2113?tls=false

# ================================================
# AUTHENTICATION & SECURITY
# ================================================

# JWT Tokens (Auth Service)
# Generate with: openssl rand -hex 64
JWT_ACCESS_SECRET=your_jwt_access_secret_64_chars_minimum
JWT_ACCESS_EXPIRES_IN=15m
JWT_REFRESH_SECRET=your_jwt_refresh_secret_64_chars_minimum
JWT_REFRESH_EXPIRES_IN=7d

# JWT for Finance Service
JWT_SECRET=your_finance_jwt_secret_64_chars_minimum
JWT_EXPIRES_IN=24h

# ================================================
# OBJECT STORAGE
# ================================================

# MinIO S3-compatible storage
MINIO_ROOT_USER=your_minio_admin_user
MINIO_ROOT_PASSWORD=your_secure_minio_password_min_32_chars
MINIO_ENDPOINT=minio
MINIO_PORT=9000
MINIO_ACCESS_KEY=your_minio_access_key
MINIO_SECRET_KEY=your_secure_minio_secret_key_min_32_chars
MINIO_USE_SSL=false

# ================================================
# MESSAGE QUEUE
# ================================================

# RabbitMQ
RABBITMQ_DEFAULT_USER=your_rabbitmq_user
RABBITMQ_DEFAULT_PASS=your_secure_rabbitmq_password_min_32_chars

# ================================================
# NOTIFICATION SERVICES
# ================================================

# Email (MailHog for local testing, configure SMTP for production)
SMTP_HOST=mailhog
SMTP_PORT=1025
SMTP_USER=
SMTP_PASS=

# SMS Services (Bangladesh) - Get from providers
ALPHA_SMS_API_KEY=your_alpha_sms_api_key_here
SMS_NET_BD_API_KEY=your_sms_net_bd_api_key_here

# ================================================
# OBSERVABILITY & MONITORING
# ================================================

# OpenTelemetry
OTEL_EXPORTER_OTLP_ENDPOINT=http://signoz-otel-collector:4318
OTEL_TRACES_EXPORTER=otlp
OTEL_METRICS_EXPORTER=otlp
OTEL_LOGS_EXPORTER=otlp

# Elasticsearch
ELASTICSEARCH_NODE=http://elasticsearch:9200

# Grafana
GF_SECURITY_ADMIN_USER=admin
GF_SECURITY_ADMIN_PASSWORD=your_secure_grafana_password_min_32_chars
GF_INSTALL_PLUGINS=grafana-piechart-panel
GF_SERVER_ROOT_URL=http://localhost:3500

# ================================================
# WORKFLOW & ORCHESTRATION
# ================================================

# Temporal
TEMPORAL_ADDRESS=temporal:7233
TEMPORAL_NAMESPACE=vextrus

# ================================================
# SERVICE CONFIGURATION
# ================================================

# Node Environment
NODE_ENV=production

# Version Tag
VERSION=latest

# Auth Service URLs (internal)
AUTH_SERVICE_URL=http://auth:3001

# Service URLs for API Gateway
MASTER_DATA_SERVICE_URL=http://master-data:3002/graphql
WORKFLOW_SERVICE_URL=http://workflow:3011/graphql
RULES_ENGINE_SERVICE_URL=http://rules-engine:3012/graphql
ORGANIZATION_SERVICE_URL=http://organization:3016/graphql
FINANCE_SERVICE_URL=http://finance:3014/graphql

# Skip unhealthy services (comma-separated)
SKIP_SERVICES=hr,crm,scm,project-management

# ================================================
# BUSINESS CONFIGURATION (Bangladesh)
# ================================================

# VAT & Tax Settings
VAT_RATE=15
TAX_WITHHOLDING_RATE=10

# Fiscal Year (Bangladesh: July-June)
FISCAL_YEAR_START=7

# Multi-tenancy
DEFAULT_TENANT_ID=default

# ================================================
# WEB FRONTEND CONFIGURATION
# ================================================

# API URLs (Traefik routing for local deployment)
NEXT_PUBLIC_API_URL=http://api.localhost/graphql
NEXT_PUBLIC_WS_URL=ws://api.localhost/graphql

# Next.js Settings
NEXT_TELEMETRY_DISABLED=1

# ================================================
# RESOURCE LIMITS
# ================================================

# Elasticsearch
ES_JAVA_OPTS=-Xms512m -Xmx512m

# Finance Service Memory Limit
FINANCE_MEMORY_LIMIT=1024M
FINANCE_CPU_LIMIT=1.0

# ================================================
# DEVELOPMENT TOOLS
# ================================================

# Verdaccio (Private NPM Registry)
VERDACCIO_PUBLIC_URL=http://localhost:4873/

# ================================================
# KAFKA CONSUMER GROUPS (one per service)
# ================================================

AUTH_KAFKA_CONSUMER_GROUP=auth-consumer
NOTIFICATION_KAFKA_CONSUMER_GROUP=notification-consumer
CONFIGURATION_KAFKA_CONSUMER_GROUP=configuration-consumer
FINANCE_KAFKA_CONSUMER_GROUP=finance-consumer
CRM_KAFKA_CONSUMER_GROUP=crm-consumer
HR_KAFKA_CONSUMER_GROUP=hr-consumer
ORGANIZATION_KAFKA_CONSUMER_GROUP=organization-consumer
PROJECT_KAFKA_CONSUMER_GROUP=project-consumer
SCM_KAFKA_CONSUMER_GROUP=scm-consumer

# ================================================
# DATABASE NAMES (Per Service)
# ================================================

AUTH_DATABASE_NAME=vextrus_auth
MASTER_DATA_DATABASE_NAME=vextrus_master_data
NOTIFICATION_DATABASE_NAME=vextrus_notification
CONFIGURATION_DATABASE_NAME=vextrus_configuration
SCHEDULER_DATABASE_NAME=vextrus_scheduler
DOCUMENT_GENERATOR_DATABASE_NAME=vextrus_document_generator
IMPORT_EXPORT_DATABASE_NAME=vextrus_import_export
FILE_STORAGE_DATABASE_NAME=vextrus_file_storage
AUDIT_DATABASE_NAME=vextrus_audit
WORKFLOW_DATABASE_NAME=vextrus_workflow
RULES_ENGINE_DATABASE_NAME=vextrus_rules_engine
FINANCE_DATABASE_NAME=vextrus_finance
CRM_DATABASE_NAME=vextrus_crm
HR_DATABASE_NAME=vextrus_hr
ORGANIZATION_DATABASE_NAME=vextrus_organization
PROJECT_DATABASE_NAME=vextrus_project
SCM_DATABASE_NAME=vextrus_scm

# ================================================
# SETUP INSTRUCTIONS
# ================================================
# 1. Copy this file to .env.production
# 2. Generate secure secrets:
#    - Passwords: openssl rand -base64 48
#    - JWT Secrets: openssl rand -hex 64
# 3. Fill in all values marked with "your_*"
# 4. NEVER commit .env.production to version control
# 5. Store production secrets in a secure vault
# ================================================

# CORS Configuration
# Comma-separated list of allowed origins for CORS (REQUIRED in production)
CORS_ORIGIN=http://localhost:3000,http://web.localhost,http://api.localhost
